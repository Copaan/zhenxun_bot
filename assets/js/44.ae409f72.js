(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{452:function(s,a,n){"use strict";n.r(a);var e=n(2),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"这一步并不是必须的-只是为了可视化方便管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#这一步并不是必须的-只是为了可视化方便管理"}},[s._v("#")]),s._v(" 这一步并不是必须的！只是为了可视化方便管理")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("别忘了打开服务器端口，默认是8081，修改端口在vue.config.js文件中！")])]),a("h1",{attrs:{id:"开始安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始安装"}},[s._v("#")]),s._v(" 开始安装")]),s._v(" "),a("h2",{attrs:{id:"安装ngnix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装ngnix"}},[s._v("#")]),s._v(" 安装ngnix")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"下载文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载文件"}},[s._v("#")]),s._v(" 下载文件")]),s._v(" "),a("p",[s._v("打开 "),a("a",{attrs:{href:"https://github.com/HibiKier/zhenxun_bot_webui/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Releases"),a("OutboundLink")],1),s._v(" 下载最新版本文件"),a("br"),s._v("\n将文件夹解压后放入 "),a("code",[s._v("/var/www/html")]),s._v("或"),a("code",[s._v("/usr/share/nginx")]),s._v(" 下")]),s._v(" "),a("h2",{attrs:{id:"修改配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[s._v("#")]),s._v(" 修改配置文件")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("/etc/nginx/")]),s._v(" 目录下新建 "),a("code",[s._v("hosts")]),s._v(" 目录"),a("br"),s._v("\n在"),a("code",[s._v("/etc/nginx/")]),s._v(" 目录下打开nginx.conf文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim nginx.conf\n\n# 在http中最后添加 include /etc/nginx/hosts/*.host;\n\nhttp {\n  ...\n\n  include /etc/nginx/hosts/*.host;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("打开"),a("code",[s._v("/etc/nginx/hosts")]),s._v(" 目录下新建 "),a("code",[s._v("server0.host")]),s._v("文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("upstream backend {\n    server localhost:11451;     # 真寻的端口号\n    keepalive 64;\n}\n\nmap $http_upgrade $connection_upgrade {\n    default upgrade;\n    '' close;\n}\n\nserver {\n        listen       9999;             #自己设置的webui端口号\n        server_name  localhost;        #自己设置ip地址\n        #access_log  logs/host.access.log  main;\n        location / {\n            root   /usr/share/nginx/dist;        #这里写vue项目打包好的dist文件的地址，真寻前端文件\n            index  index.html;               #这里是vue项目的首页，需要保证dist中有index.html文件\n            try_files $uri $uri/ =404;\n             error_page 405 =200  $request_uri;\n        }\n        location @router {\n\t\t\trewrite ^.*$ /index.html last;            #解决重新刷新页面，页面空白的问题\n\t\t}\n\n        add_header backendCode $upstream_status;\n        add_header BackendIP \"$upstream_addr;\" always;\n        location /zhenxun/api/ {\n            proxy_pass http://localhost:11451/zhenxun/api/;     #自己设置的api地址\n        }\n        location /zhenxun/socket/ {\n            proxy_pass http://backend;  \n        # 请求服务器升级协议为 WebSocket\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection $connection_upgrade;\n        \n        # 设置读写超时时间，默认 60s 无数据连接将会断开\n        proxy_read_timeout 300s;\n        proxy_send_timeout 300s;\n\n        # Host 主机名\n        proxy_set_header Host $host;\n        # X-Real-IP 将真实访问者的远端 IP 地址转发给代理服务器\n        proxy_set_header X-Real-IP $remote_addr;\n        # X-Forwarded-For 标记客户端通过代理连接到服务器的源 IP\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        # X-Forwarded-Host 标记客户端通过代理连接到服务器的原始主机\n        proxy_set_header X-Forwarded-Host $host:$server_port;\n        # X-Forwarded-Server 代理服务器的主机名\n        proxy_set_header X-Forwarded-Server $host;\n        # X-Forwarded-Port 定义客户端请求的原始端口\n        proxy_set_header X-Forwarded-Port $server_port;\n        # X-Forwarded-Proto 标记客户端通过代理连接到服务器的协议\n        proxy_set_header X-Forwarded-Proto $scheme;\n        # proxy_set_header X-Forwarded-Proto $proxy_x_forwarded_proto;\n\n        }\n        error_page   500 502 503 504  /50x.html;#错误页面\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br")])]),a("h2",{attrs:{id:"重启nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启nginx"}},[s._v("#")]),s._v(" 重启nginx")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h1",{attrs:{id:"配置账号密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置账号密码"}},[s._v("#")]),s._v(" 配置账号密码")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("data/config.yaml")]),s._v("文件中配置项设置账号密码")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("web-ui")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web-ui")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# USERNAME: 前端管理用户名")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# PASSWORD: 前端管理密码")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" admin\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("必须要设置账号密码，否则无法登陆！")])])])}),[],!1,null,null,null);a.default=t.exports}}]);